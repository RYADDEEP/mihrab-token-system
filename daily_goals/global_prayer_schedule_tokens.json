{
  "global_prayer_schedule_tokens": {
    "prayerScheduleEngine": {
      "version": "1.0.0",
      "lastUpdated": "2025-01-01T00:00:00Z",
      "configuration": {
        "locationId": "location_system_reference",
        "calcMethod": "MuslimWorldLeague",
        "juristicMethod": "Hanafi",
        "manualAdjustments": {
          "fajr": -2,
          "dhuhr": 0,
          "asr": 1,
          "maghrib": 0,
          "isha": 2
        },
        "fallbackMechanism": {
          "type": "manual_entry",
          "instructions": "Allow user to enter prayer times manually if API fails"
        }
      }
    },
    "calculationMethods": {
      "MuslimWorldLeague": {
        "id": "MWL",
        "name": "Muslim World League",
        "fajrAngle": 18,
        "ishaAngle": 17,
        "description": "Standard method used by Muslim World League"
      },
      "IslamicSocietyOfNorthAmerica": {
        "id": "ISNA",
        "name": "Islamic Society of North America",
        "fajrAngle": 15,
        "ishaAngle": 15,
        "description": "Method used by ISNA"
      },
      "UmmAlQura": {
        "id": "UmmAlQura",
        "name": "Umm Al-Qura University, Makkah",
        "fajrAngle": 18.5,
        "ishaAngle": 0,
        "ishaInterval": 90,
        "description": "Method used in Saudi Arabia"
      },
      "UniversityOfIslamicSciencesKarachi": {
        "id": "Karachi",
        "name": "University of Islamic Sciences, Karachi",
        "fajrAngle": 18,
        "ishaAngle": 18,
        "description": "Method used by University of Islamic Sciences, Karachi"
      },
      "EgyptianGeneralAuthorityOfSurvey": {
        "id": "Egypt",
        "name": "Egyptian General Authority of Survey",
        "fajrAngle": 19.5,
        "ishaAngle": 17.5,
        "description": "Method used in Egypt"
      },
      "InstituteOfGeophysicsUniversityOfTehran": {
        "id": "Tehran",
        "name": "Institute of Geophysics, University of Tehran",
        "fajrAngle": 17.7,
        "ishaAngle": 14,
        "maghribAngle": 4.5,
        "description": "Method used in Iran"
      },
      "ShiaIthnaAshariLevaDuJour": {
        "id": "Jafari",
        "name": "Shia Ithna-Ashari, Leva Institute, Qum",
        "fajrAngle": 16,
        "ishaAngle": 14,
        "maghribAngle": 4,
        "description": "Method used by Shia Ithna-Ashari"
      },
      "GulfRegion": {
        "id": "Gulf",
        "name": "Gulf Region",
        "fajrAngle": 19.5,
        "ishaAngle": 0,
        "ishaInterval": 90,
        "description": "Method used in Gulf countries"
      },
      "Kuwait": {
        "id": "Kuwait",
        "name": "Kuwait",
        "fajrAngle": 18,
        "ishaAngle": 17.5,
        "description": "Method used in Kuwait"
      },
      "Qatar": {
        "id": "Qatar",
        "name": "Qatar",
        "fajrAngle": 18,
        "ishaAngle": 0,
        "ishaInterval": 90,
        "description": "Method used in Qatar"
      },
      "Singapore": {
        "id": "Singapore",
        "name": "Majlis Ugama Islam Singapura",
        "fajrAngle": 20,
        "ishaAngle": 18,
        "description": "Method used in Singapore"
      },
      "France": {
        "id": "France",
        "name": "Union Organization Islamic de France",
        "fajrAngle": 12,
        "ishaAngle": 12,
        "description": "Method used in France"
      },
      "Turkey": {
        "id": "Turkey",
        "name": "Diyanet İşleri Başkanlığı",
        "fajrAngle": 18,
        "ishaAngle": 17,
        "description": "Method used in Turkey"
      },
      "Russia": {
        "id": "Russia",
        "name": "Spiritual Administration of Muslims of Russia",
        "fajrAngle": 16,
        "ishaAngle": 15,
        "description": "Method used in Russia"
      }
    },
    "juristicMethods": {
      "Hanafi": {
        "id": "Hanafi",
        "name": "Hanafi",
        "asrShadowFactor": 2,
        "description": "Hanafi jurisprudence - Asr when shadow length equals object length plus its shadow at noon"
      },
      "Shafii": {
        "id": "Shafii",
        "name": "Shafi'i",
        "asrShadowFactor": 1,
        "description": "Shafi'i jurisprudence - Asr when shadow length equals object length"
      }
    },
    "prayerTimes": {
      "fajr": {
        "name": "Fajr",
        "type": "dawn",
        "adjustmentRange": {
          "min": -15,
          "max": 15
        }
      },
      "sunrise": {
        "name": "Sunrise",
        "type": "solar",
        "adjustmentRange": {
          "min": -10,
          "max": 10
        }
      },
      "dhuhr": {
        "name": "Dhuhr",
        "type": "solar",
        "adjustmentRange": {
          "min": -15,
          "max": 15
        }
      },
      "asr": {
        "name": "Asr",
        "type": "shadow",
        "adjustmentRange": {
          "min": -15,
          "max": 15
        }
      },
      "maghrib": {
        "name": "Maghrib",
        "type": "sunset",
        "adjustmentRange": {
          "min": -10,
          "max": 10
        }
      },
      "isha": {
        "name": "Isha",
        "type": "twilight",
        "adjustmentRange": {
          "min": -15,
          "max": 15
        }
      }
    },
    "fallbackMechanisms": {
      "manual_entry": {
        "type": "manual_entry",
        "priority": 1,
        "instructions": "Allow user to enter prayer times manually if API fails",
        "requirements": [
          "user_input_validation",
          "time_format_check"
        ]
      },
      "offline_cache": {
        "type": "offline_cache",
        "priority": 2,
        "instructions": "Use last known prayer times from local storage",
        "requirements": [
          "cache_validation",
          "date_check",
          "location_match"
        ]
      },
      "approximate_calculation": {
        "type": "approximate_calculation",
        "priority": 3,
        "instructions": "Use simplified sun angle calculations",
        "requirements": [
          "location_coordinates",
          "date_time",
          "timezone"
        ]
      },
      "nearby_location": {
        "type": "nearby_location",
        "priority": 4,
        "instructions": "Use prayer times from nearest available location",
        "requirements": [
          "location_proximity",
          "timezone_match",
          "adjustment_factor"
        ]
      }
    },
    "apiConfiguration": {
      "primary": {
        "name": "primary_api",
        "timeout": 10000,
        "retryAttempts": 3,
        "retryDelay": 2000
      },
      "secondary": {
        "name": "secondary_api",
        "timeout": 8000,
        "retryAttempts": 2,
        "retryDelay": 1500
      },
      "tertiary": {
        "name": "tertiary_api",
        "timeout": 5000,
        "retryAttempts": 1,
        "retryDelay": 1000
      }
    },
    "highLatitudeAdjustments": {
      "method": "AngleBased",
      "options": {
        "AngleBased": {
          "description": "Angle-based method for high latitude regions"
        },
        "MidNight": {
          "description": "Middle of the night method"
        },
        "OneSeventh": {
          "description": "One-seventh of the night method"
        }
      },
      "threshold": 48.5
    },
    "systemSettings": {
      "timeFormat": "24h",
      "dateFormat": "YYYY-MM-DD",
      "timezoneHandling": "auto_detect",
      "dstAdjustment": true,
      "precisionLevel": "minute",
      "cacheExpiration": 86400,
      "updateFrequency": "daily"
    },
    "validationRules": {
      "manualAdjustments": {
        "fajr": {
          "min": -30,
          "max": 30
        },
        "dhuhr": {
          "min": -15,
          "max": 15
        },
        "asr": {
          "min": -30,
          "max": 30
        },
        "maghrib": {
          "min": -15,
          "max": 15
        },
        "isha": {
          "min": -30,
          "max": 30
        }
      },
      "timeSequence": {
        "required": true,
        "order": [
          "fajr",
          "sunrise",
          "dhuhr",
          "asr",
          "maghrib",
          "isha"
        ]
      }
    },
    "errorHandling": {
      "networkFailure": {
        "action": "fallback_cascade",
        "logging": true
      },
      "invalidResponse": {
        "action": "retry_with_secondary",
        "logging": true
      },
      "calculationError": {
        "action": "use_fallback_method",
        "logging": true
      },
      "locationNotFound": {
        "action": "request_manual_coordinates",
        "logging": true
      }
    }
  }
}